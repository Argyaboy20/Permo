"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7984],{7984:(w,p,g)=>{g.r(p),g.d(p,{Tab4PageModule:()=>T});var h=g(177),f=g(4341),a=g(4742),u=g(5260),d=g(467),t=g(4438),b=g(9994),x=g(3656);function P(e,s){1&e&&(t.j41(0,"span"),t.EFF(1,"********"),t.k0s())}function k(e,s){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const o=t.XpG(2);t.R7$(),t.JRh(o.userData.konfirmasi)}}function _(e,s){if(1&e){const o=t.RV6();t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"INFORMASI AKUN"),t.k0s()(),t.j41(4,"ion-card-content")(5,"ion-item")(6,"ion-label",9),t.EFF(7,"Username"),t.k0s(),t.j41(8,"ion-text"),t.EFF(9),t.k0s()(),t.j41(10,"ion-item")(11,"ion-label",9),t.EFF(12,"Email"),t.k0s(),t.j41(13,"ion-text"),t.EFF(14),t.k0s()(),t.j41(15,"ion-item")(16,"ion-label",9),t.EFF(17,"Password"),t.k0s(),t.j41(18,"ion-text"),t.DNE(19,P,2,0,"span",10)(20,k,2,1,"span",10),t.k0s(),t.j41(21,"ion-button",11),t.bIt("click",function(){t.eBV(o);const r=t.XpG();return t.Njj(r.togglePasswordVisibility())}),t.nrm(22,"ion-icon",12),t.k0s()()()()}if(2&e){const o=t.XpG();t.R7$(9),t.JRh(o.userData.username),t.R7$(5),t.JRh(o.userData.email),t.R7$(5),t.Y8G("ngIf",!o.showPassword),t.R7$(),t.Y8G("ngIf",o.showPassword),t.R7$(2),t.Y8G("name",o.showPassword?"eye-off":"eye")}}function v(e,s){1&e&&(t.j41(0,"ion-card")(1,"ion-card-content")(2,"p"),t.EFF(3,"Tidak ada data akun ditemukan"),t.k0s()()())}const M=[{path:"",component:(()=>{var e;class s{constructor(n,r,i,l,c){this.router=n,this.postPvdr=r,this.toastController=i,this.alertController=l,this.platform=c,this.userData=null,this.showPassword=!1}ngOnInit(){this.loadUserDataFromServer()}ionViewWillEnter(){this.loadUserDataFromServer(),this.backButtonSubscription=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.navigate(["/tabs/tab2"])})}ionViewWillLeave(){this.backButtonSubscription&&this.backButtonSubscription.unsubscribe()}ngOnDestroy(){this.backButtonSubscription&&this.backButtonSubscription.unsubscribe()}loadUserDataFromServer(){var n=this;return(0,d.A)(function*(){const r=sessionStorage.getItem("currentUser");if(r){const l={id:JSON.parse(r).id,aksi:"getLatestUserData"};try{n.postPvdr.postData(l,"action.php").subscribe({next:c=>{if(c.success){const m=c.result[0];sessionStorage.setItem("currentUser",JSON.stringify(m)),n.userData=m}else n.showToast("Gagal memperbarui data")},error:c=>{console.error("Error fetching user data:",c),n.showToast("Terjadi kesalahan saat mengambil data")}})}catch(c){console.error("Error in loadUserDataFromServer:",c),n.showToast("Terjadi kesalahan sistem")}}else n.router.navigate(["/tabs/tab1"],{replaceUrl:!0})})()}showToast(n){var r=this;return(0,d.A)(function*(){(yield r.toastController.create({message:n,duration:2e3})).present()})()}togglePasswordVisibility(){this.showPassword=!this.showPassword}doRefresh(n){this.loadUserDataFromServer().then(()=>{n.target.complete()})}confirmDelete(){var n=this;return(0,d.A)(function*(){yield(yield n.alertController.create({header:"Konfirmasi",message:"Yakin ingin menghapus akun?",buttons:[{text:"Tidak",role:"cancel"},{text:"Ya",handler:()=>{n.deleteData()}}]})).present()})()}deleteData(){var n=this;return(0,d.A)(function*(){var i;n.userData?n.postPvdr.postData({id:n.userData.id,aksi:"deleteData"},"action.php").subscribe({next:(i=(0,d.A)(function*(l){(yield n.toastController.create({message:l.success?"Akun berhasil dihapus":"Gagal menghapus akun",duration:2e3})).present(),l.success&&(sessionStorage.clear(),localStorage.clear(),n.router.navigateByUrl("/halamanutama"))}),function(c){return i.apply(this,arguments)}),error:function(){var i=(0,d.A)(function*(){(yield n.toastController.create({message:"Kesalahan jaringan",duration:2e3})).present()});return function(){return i.apply(this,arguments)}}()}):(yield n.toastController.create({message:"Tidak ada akun untuk dihapus",duration:2e3})).present()})()}}return(e=s).\u0275fac=function(n){return new(n||e)(t.rXU(u.Ix),t.rXU(b.c),t.rXU(a.K_),t.rXU(a.hG),t.rXU(x.OD))},e.\u0275cmp=t.VBU({type:e,selectors:[["app-tab4"]],decls:17,vars:2,consts:[["noData",""],[1,"tit"],["href","/tabs/tab2"],["name","arrow-back-outline"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Tarik untuk Pembaharuan Data","refreshingSpinner","circles","refreshingText","Memperbarui..."],[1,"account-info"],[4,"ngIf","ngIfElse"],["color","danger","shape","round",1,"footer",3,"click"],["position","stacked"],[4,"ngIf"],["fill","clear","slot","end",3,"click"],[1,"password-toggle",3,"name"]],template:function(n,r){if(1&n){const i=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",1),t.EFF(3,"PERMO"),t.k0s()()(),t.j41(4,"ion-fab")(5,"ion-fab-button",2),t.nrm(6,"ion-icon",3),t.k0s()(),t.j41(7,"ion-content")(8,"ion-refresher",4),t.bIt("ionRefresh",function(c){return t.eBV(i),t.Njj(r.doRefresh(c))}),t.nrm(9,"ion-refresher-content",5),t.k0s(),t.j41(10,"div",6),t.DNE(11,_,23,5,"ion-card",7)(12,v,4,0,"ng-template",null,0,t.C5r),t.k0s(),t.j41(14,"ion-button",8),t.bIt("click",function(){return t.eBV(i),t.Njj(r.confirmDelete())}),t.j41(15,"a"),t.EFF(16,"HAPUS AKUN"),t.k0s()()()}if(2&n){const i=t.sdS(13);t.R7$(11),t.Y8G("ngIf",r.userData)("ngIfElse",i)}},dependencies:[h.bT,a.Jm,a.b_,a.I9,a.ME,a.tN,a.W9,a.Q8,a.YW,a.eU,a.iq,a.uz,a.he,a.To,a.Ki,a.IO,a.BC,a.ai],styles:["ion-content[_ngcontent-%COMP%]{--background: url(/assets/bg_halamandepan.png) no-repeat center center fixed;--background-size: cover}ion-card[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]{--background: url(/assets/bg_halamandepan.png) no-repeat center center fixed;--background-size: cover}ion-list[_ngcontent-%COMP%]{background:url(/assets/bg_halamandepan.png) no-repeat center center fixed;background-size:cover}.tit[_ngcontent-%COMP%]{font-family:Lucida Sans}ion-card-title[_ngcontent-%COMP%]{text-align:center;margin-top:-10px}.password-toggle[_ngcontent-%COMP%]{font-size:22px;margin-right:-2px;margin-top:10px}ion-button[fill=clear][_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{color:#000!important;text-shadow:0 0 8px rgb(255,255,255)}.lbl[_ngcontent-%COMP%]{margin-left:50px}.inf[_ngcontent-%COMP%]{text-align:center;margin-top:20px;margin-bottom:20px;font-family:Franklin Gothic Medium}.footer[_ngcontent-%COMP%]{text-align:center;padding:20px 0;font-weight:700;text-decoration:none;margin:0 auto;display:block;width:-moz-fit-content;width:fit-content}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}ion-fab-button[_ngcontent-%COMP%]::part(native){height:45px;width:45px;background-color:#b7f399;border-radius:15px;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;color:#000;margin-left:30px;margin-top:70px}ion-fab-button[_ngcontent-%COMP%]::part(native):hover:after{background-color:#a3e681}ion-fab-button[_ngcontent-%COMP%]::part(native):active:after{background-color:#87d361}@media screen and (min-width: 320px) and (max-width: 374px){ion-content[_ngcontent-%COMP%]{background:url(/assets/bg_halamandepan.png) no-repeat center center fixed;background-size:cover;min-height:480px;max-height:885px;padding:10px}ion-card[_ngcontent-%COMP%]{margin:5px;width:95%}ion-card-title[_ngcontent-%COMP%]{font-size:18px;margin-top:-10px;text-align:auto}ion-text[_ngcontent-%COMP%]{font-size:14px}.footer[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:0;font-size:14px}ion-fab-button[_ngcontent-%COMP%]::part(native){height:40px;width:40px;margin-left:15px;margin-top:70px}}@media screen and (min-width: 375px) and (max-width: 575px){ion-content[_ngcontent-%COMP%]{background:url(/assets/bg_halamandepan.png) no-repeat center center fixed;background-size:cover;min-height:668px;max-height:932px;padding:15px}.tit[_ngcontent-%COMP%]{font-family:Lucida Sans}ion-card[_ngcontent-%COMP%]{width:97%;margin:15px auto}ion-card-title[_ngcontent-%COMP%]{font-size:18px;margin-top:-10px;text-align:auto}ion-fab-button[_ngcontent-%COMP%]::part(native){height:40px;width:40px;margin-left:15px;margin-top:60px}.footer[_ngcontent-%COMP%]{margin-top:-20px auto}}@media screen and (min-width: 576px) and (max-width: 768px){ion-content[_ngcontent-%COMP%]{background:url(/assets/bg_halamandepan.png) no-repeat center center fixed;background-size:cover;min-height:880px;max-height:1050px;padding:15px}}@media screen and (min-width: 769px) and (max-width: 999px){ion-content[_ngcontent-%COMP%]{background:url(/assets/bg_halamandepan.png) no-repeat center center fixed;background-size:cover;min-height:1190px;max-height:1400px;padding:15px}}@media screen and (min-width: 1000px){ion-content[_ngcontent-%COMP%]{background:url(/assets/bg_halamandepan.png) no-repeat center center fixed;background-size:cover}}"]}),s})()}];let C=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.iI.forChild(M),u.iI]}),s})(),T=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[h.MD,f.YN,a.bv,C]}),s})()}}]);