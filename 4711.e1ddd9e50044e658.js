"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4711],{4711:(v,x,i)=>{i.r(x),i.d(x,{Tab1PageModule:()=>k});var a=i(4742),M=i(177),m=i(4341),P=i(1307),l=i(5260),d=i(467),n=i(4438),b=i(9994),C=i(3656);const O=[{path:"",component:(()=>{var o;class p{constructor(t,e,s,r,h){this.postPvdr=t,this.router=e,this.toastController=s,this.loadingController=r,this.platform=h,this.username="",this.konfirmasi=""}ngOnInit(){const t=localStorage.getItem("currentUser");if(t)return sessionStorage.setItem("currentUser",t),void this.router.navigate(["/tabs/tab2"],{replaceUrl:!0})}ionViewWillEnter(){localStorage.getItem("currentUser")?this.router.navigate(["/tabs/tab2"],{replaceUrl:!0}):this.backButtonSubscription=this.platform.backButton.subscribeWithPriority(9999,()=>{localStorage.getItem("currentUser")&&this.router.navigate(["/tabs/tab2"])})}ionViewWillLeave(){this.backButtonSubscription&&this.backButtonSubscription.unsubscribe()}ngOnDestroy(){this.backButtonSubscription&&this.backButtonSubscription.unsubscribe()}login(){var t=this;return(0,d.A)(function*(){var e,s;if(null===(e=t.username)||void 0===e||!e.trim()||null===(s=t.konfirmasi)||void 0===s||!s.trim())return void t.presentToast("Mohon isi username dan password");const r=yield t.loadingController.create({message:"Mohon tunggu...",spinner:"circles"});var f;yield r.present(),t.postPvdr.postData({username:t.username,konfirmasi:t.konfirmasi,aksi:"login"},"action.php").subscribe({next:(f=(0,d.A)(function*(g){if(yield r.dismiss(),g.success){const u={id:g.id,username:g.username,email:g.email,konfirmasi:g.konfirmasi};sessionStorage.setItem("currentUser",JSON.stringify(u)),localStorage.setItem("currentUser",JSON.stringify(u)),localStorage.setItem("isLoggedOut","false"),t.presentToast("Login berhasil"),t.router.navigate(["/tabs/tab2"],{replaceUrl:!0})}else t.presentToast("Username atau password salah")}),function(u){return f.apply(this,arguments)}),error:function(){var f=(0,d.A)(function*(g){console.error("Login error:",g),yield r.dismiss(),t.presentToast("Gagal login! Periksa koneksi anda")});return function(u){return f.apply(this,arguments)}}()})})()}presentToast(t){var e=this;return(0,d.A)(function*(){(yield e.toastController.create({message:t,duration:1500,position:"bottom"})).present()})()}}return(o=p).\u0275fac=function(t){return new(t||o)(n.rXU(b.c),n.rXU(l.Ix),n.rXU(a.K_),n.rXU(a.Xi),n.rXU(C.OD))},o.\u0275cmp=n.VBU({type:o,selectors:[["app-tab1"]],decls:28,vars:2,consts:[[1,"container"],[1,"header"],["src","/assets/permo_logo.jpg","alt","Permo Logo",2,"height","150px","width","150px","margin","auto"],[1,"form-group"],["for","username"],["aria-hidden","true","name","person-outline"],["type","text","placeholder","Masukkan username di sini",3,"ngModelChange","ngModel"],["for","password"],[1,"input-group"],["type","password","placeholder","Ketik di sini",3,"ngModelChange","ngModel"],["slot","end"],[1,"note"],["href","lupaakun",1,"hyper"],["type","submit",1,"masuk",3,"click"],[1,"footer"],["for","akun?"],["href","daftar"]],template:function(t,e){1&t&&(n.j41(0,"body")(1,"div",0)(2,"div",1),n.nrm(3,"ion-img",2),n.j41(4,"h1"),n.EFF(5,"PERTANIAN MOBILE"),n.k0s()(),n.j41(6,"div",3)(7,"label",4),n.nrm(8,"ion-icon",5),n.EFF(9," Username "),n.k0s(),n.j41(10,"ion-input",6),n.mxI("ngModelChange",function(r){return n.DH7(e.username,r)||(e.username=r),r}),n.k0s()(),n.j41(11,"div",3)(12,"label",7),n.EFF(13,"Password"),n.k0s(),n.j41(14,"div",8)(15,"ion-input",9),n.mxI("ngModelChange",function(r){return n.DH7(e.konfirmasi,r)||(e.konfirmasi=r),r}),n.nrm(16,"ion-input-password-toggle",10),n.k0s()(),n.j41(17,"div",11),n.EFF(18,"Lupa password/username?"),n.k0s(),n.j41(19,"a",12),n.EFF(20,"Klik di sini"),n.k0s()(),n.j41(21,"ion-button",13),n.bIt("click",function(){return e.login()}),n.EFF(22,"MASUK"),n.k0s(),n.j41(23,"div",14)(24,"label",15),n.EFF(25,"Belum punya akun? "),n.k0s(),n.j41(26,"a",16),n.EFF(27,"Daftar Sekarang"),n.k0s()()()()),2&t&&(n.R7$(10),n.R50("ngModel",e.username),n.R7$(5),n.R50("ngModel",e.konfirmasi))},dependencies:[a.Jm,a.iq,a.KW,a.$w,a.Wv,a.Gw,m.BC,m.vS],styles:['body[_ngcontent-%COMP%]{font-family:Helvetica,"sans-serif";color:#fff;background-color:#324851;margin:0;padding:0;background-image:url(/assets/background.png)}.container[_ngcontent-%COMP%]{max-width:400px;margin:66px auto;background-color:#2a393e;padding:20px;border-radius:8px;box-shadow:0 0 10px #f8f4f41a}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.src[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;height:10px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin:10px}.info-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0769d3;text-decoration:none}.info-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.info-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #007bff;color:#007bff;padding:5px 10px;border-radius:5px;cursor:pointer}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;border-right:0;border-top-right-radius:0;border-bottom-right-radius:0}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-left:0;padding:10px;border-top-right-radius:5px;border-bottom-right-radius:5px;cursor:pointer}.form-group[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000}.form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:2px;font-size:10px;color:#0f0;text-decoration:none}.form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.form-group[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{font-size:11px;color:#fff;margin:1px}.form-group[_ngcontent-%COMP%]   .hyper[_ngcontent-%COMP%]{font-size:10px}.masuk[_ngcontent-%COMP%]{color:#fff;padding:10px;border:none;border-radius:5px;width:100%;margin-top:-10px}.footer[_ngcontent-%COMP%]{text-align:center;margin-top:0;font-size:12px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0f0;text-decoration:none;font-size:12px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media screen and (min-width: 320px) and (max-width: 375px){body[_ngcontent-%COMP%]{min-height:480px;max-height:885px;padding:10px}.container[_ngcontent-%COMP%]{margin:20px auto;max-width:300px;padding:15px}.header[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:100px;width:100px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px}.masuk[_ngcontent-%COMP%]{margin-top:-5px}}@media screen and (min-width: 376px) and (max-width: 475px){body[_ngcontent-%COMP%]{min-height:668px;max-height:932px;padding:15px}.container[_ngcontent-%COMP%]{margin:30px auto;max-width:350px}.header[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:120px;width:120px}}@media screen and (min-width: 476px) and (max-width: 768px){body[_ngcontent-%COMP%]{min-height:880px;max-height:1050px;padding:15px}.container[_ngcontent-%COMP%]{max-width:500px;margin:40px auto;padding:25px}.header[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:130px;width:130px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .masuk[_ngcontent-%COMP%]{padding:12px}}@media screen and (min-width: 769px) and (max-width: 999px){body[_ngcontent-%COMP%]{min-height:1190px;max-height:1400px;padding:15px}.container[_ngcontent-%COMP%]{max-width:550px;margin:50px auto}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}}@media screen and (min-width: 1000px){.container[_ngcontent-%COMP%]{max-width:400px;margin:66px auto;padding:20px}.header[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:150px;width:150px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .masuk[_ngcontent-%COMP%]{padding:10px}}']}),p})()}];let _=(()=>{var o;class p{}return(o=p).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[l.iI.forChild(O),l.iI]}),p})(),k=(()=>{var o;class p{}return(o=p).\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.$C({type:o}),o.\u0275inj=n.G2t({imports:[a.bv,M.MD,m.YN,P.S,_]}),p})()}}]);