"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[477],{477:(y,f,o)=>{o.r(f),o.d(f,{LupaakunPageModule:()=>v});var x=o(177),g=o(4341),d=o(4742),m=o(5260),h=o(467),M=o(8141),P=o(9437),c=o(8810),n=o(4438),C=o(9994),k=o(3656);const O=[{path:"",component:(()=>{var e;class p{constructor(t,a,r,s,i,u){this.postPvdr=t,this.toastController=a,this.loadingController=r,this.platform=s,this.router=i,this.location=u,this.email="",this.isLoading=!1,(this.platform.is("desktop")||this.platform.is("mobileweb"))&&window.addEventListener("beforeunload",L=>{localStorage.setItem("lastRoute","/lupaakun")})}ngOnInit(){this.maintainRoute()}ionViewWillEnter(){this.location.replaceState("/lupaakun"),this.backButtonSubscription=this.platform.backButton.subscribeWithPriority(10,()=>{this.router.navigate(["/tabs/tab1"])})}ionViewWillLeave(){this.backButtonSubscription&&this.backButtonSubscription.unsubscribe()}maintainRoute(){const t=localStorage.getItem("lastRoute");"/lupaakun"===t&&this.location.replaceState("/lupaakun"),(this.platform.is("desktop")||this.platform.is("mobileweb"))&&window.addEventListener("load",()=>{"/lupaakun"===t&&this.location.replaceState("/lupaakun")})}kirimInformasi(){var t=this;return(0,h.A)(function*(){if(t.isLoading)return;let a=null;try{if(!t.email)return void(yield t.presentToast("Harap isi email"));if(!t.validateEmail(t.email))return void(yield t.presentToast("Format email tidak valid"));t.isLoading=!0,a=yield t.loadingController.create({message:"Mengirim informasi...",spinner:"circles",backdropDismiss:!1}),yield a.present();const r={email:t.email.trim(),aksi:"lupa_akun"},s=yield t.postPvdr.postData(r,"action.php").pipe((0,M.M)(i=>{console.log("Server response:",i)}),(0,P.W)(i=>{if(console.error("Error details:",i),!navigator.onLine)return(0,c.$)(()=>new Error("Tidak ada koneksi internet. Mohon periksa koneksi Anda."));if(i.error){if("string"==typeof i.error)try{const u=JSON.parse(i.error);return(0,c.$)(()=>new Error(u.message||"Terjadi kesalahan pada server"))}catch{return(0,c.$)(()=>new Error(i.error))}return(0,c.$)(()=>new Error(i.error.message||"Terjadi kesalahan pada server"))}return(0,c.$)(()=>new Error("Gagal menghubungi server. Mohon coba beberapa saat lagi."))})).toPromise();if(!s.success)throw new Error(s.message||"Gagal mengirim informasi akun");yield t.presentToast(s.message),t.email=""}catch(r){console.error("Error sending email:",r),yield t.presentToast(r.message||"Terjadi kesalahan saat mengirim email")}finally{t.isLoading=!1,a&&(yield a.dismiss())}})()}validateEmail(t){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)}presentToast(t){var a=this;return(0,h.A)(function*(){yield(yield a.toastController.create({message:t,duration:4e3,position:"bottom",cssClass:"custom-toast"})).present()})()}}return(e=p).\u0275fac=function(t){return new(t||e)(n.rXU(C.c),n.rXU(d.K_),n.rXU(d.Xi),n.rXU(k.OD),n.rXU(m.Ix),n.rXU(x.aZ))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-lupaakun"]],decls:17,vars:1,consts:[[1,"container"],[1,"header"],[1,"form-group"],["name","email","fill","solid","label","Email","labelPlacement","floating","fill","outline","helperText","Masukkan email yang valid","errorText","Email tidak valid","placeholder","Ketik email di sini","type","email",3,"ngModelChange","ngModel"],["type","submit",1,"btn",3,"click"],[1,"footer"],["href","/tabs/tab1"]],template:function(t,a){1&t&&(n.j41(0,"body")(1,"div",0)(2,"div",1)(3,"h1"),n.EFF(4,"KONFIRMASI AKUN"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Kami akan mengirimkan informasi akun ke alamat email Anda"),n.k0s()(),n.j41(7,"form")(8,"div",2)(9,"ion-textarea",3),n.mxI("ngModelChange",function(s){return n.DH7(a.email,s)||(a.email=s),s}),n.k0s()(),n.j41(10,"ion-button",4),n.bIt("click",function(){return a.kirimInformasi()}),n.EFF(11," KIRIM INFORMASI AKUN "),n.k0s()(),n.j41(12,"div",5)(13,"p"),n.EFF(14,"Sudah punya akun? "),n.j41(15,"a",6),n.EFF(16,"Masuk ke Akun"),n.k0s()()()()()),2&t&&(n.R7$(9),n.R50("ngModel",a.email))},dependencies:[g.qT,g.BC,g.cb,g.vS,g.cV,d.Jm,d.nc,d.Gw],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#324851;margin:0;padding:0;background-image:url(/assets/background.png)}.container[_ngcontent-%COMP%]{max-width:500px;margin:150px auto;background-color:#2a393e;padding:20px;border-radius:8px;box-shadow:0 0 10px #f8f4f41a}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;color:#89da59}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#fff;margin:0}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;color:#fff;margin-bottom:5px;font-weight:700}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% + -0px);padding:10px;font-size:14px;color:#fff;border:1px solid #ced4da;border-radius:4px}.form-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;margin:10px;color:#6c757d}.btn[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;font-size:15px;color:#fff;border-radius:4px;margin-top:-5px;cursor:pointer}.footer[_ngcontent-%COMP%]{text-align:center;margin-top:-10px;font-size:14px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;margin-top:0;font-size:14px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media screen and (min-width: 320px) and (max-width: 375px){body[_ngcontent-%COMP%]{min-height:480px;max-height:885px;padding:10px}.container[_ngcontent-%COMP%]{margin:60px auto;max-width:300px;padding:15px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.form-group[_ngcontent-%COMP%]{margin-bottom:12px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;font-size:12px}ion-textarea[_ngcontent-%COMP%]{font-size:12px}.btn[_ngcontent-%COMP%]{padding:8px;font-size:13px}.footer[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:11px}}@media screen and (min-width: 376px) and (max-width: 475px){body[_ngcontent-%COMP%]{min-height:668px;max-height:932px;padding:15px}.container[_ngcontent-%COMP%]{margin:100px auto;max-width:350px;padding:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}@media screen and (min-width: 476px) and (max-width: 768px){body[_ngcontent-%COMP%]{min-height:880px;max-height:1050px;padding:15px}.container[_ngcontent-%COMP%]{max-width:500px;margin:170px auto;padding:25px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.btn[_ngcontent-%COMP%]{padding:12px;font-size:16px}}@media screen and (min-width: 769px) and (max-width: 999px){body[_ngcontent-%COMP%]{min-height:1190px;max-height:1400px;padding:15px}.container[_ngcontent-%COMP%]{max-width:550px;margin:200px auto;padding:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:25px}}@media screen and (min-width: 1000px){.container[_ngcontent-%COMP%]{max-width:500px;margin:150px auto;padding:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.btn[_ngcontent-%COMP%]{padding:10px;font-size:15px}.footer[_ngcontent-%COMP%]{font-size:14px}}"]}),p})()}];let b=(()=>{var e;class p{}return(e=p).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[m.iI.forChild(O),m.iI]}),p})(),v=(()=>{var e;class p{}return(e=p).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[x.MD,g.YN,d.bv,b]}),p})()}}]);